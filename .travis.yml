language: ruby
notifications:
  email: false
  slack:
    secure: sYPZKix0grVFgXpuxIKjDnaixKcD8p7dEtaGBHlZtl7mF6BOUHpT2pTHqygSne68O3ihUjCcri+JsLgOqnFEcAlmN8nV4NWVo9gNb4/3786L1FNOOvEzbpa9z/g8dlHL+2tMHtg3+NgWWBf88oqyQJppuzbaOxt/hmIjjad4qm8GPtrFTBpA631yTVMB8JGWSxqeJPYrYkThYufrwgqNf0+nfrXBIuXgVcyqM8UtMiDtyU/1QCZ+LBNMyslvm+AjcqUkKQQJFqrIsnuh6BnDC+PUXEfXYLb7EDIBwHPl3B2MifPkdDN93QBdCr8EIwYu9i2nSlCGubJrp//Jl4S90y+Yvpgt5SFtp3DMwy7aVeQI47wDTA7ys+UI+BsifRJEHiQuZCo1uGp7/s4R0b0FpjE6aGA8Osev4dtPM4qT2lVJqcEhVjd+2J/A7Ke/ZeGDGLnSZdTHPkUY3/qIddN2vG+Nh6y4XKIbFZcF4SFSBGl6/szBO+EgRjh3I797vTtIdkxDfWa9Wdni6lL3Z9HtssFVas9ibYAHobYTQcod3LCsHxdNnHm1/MFQXm1uEBHhmWSxGDp/RgCvXYWjqeXOroIwVYFPm1TSiIrYubEQIEc8JlGM+2QXz/wo/6idfyoplaPYogZEd/bzRqRpBOHnpE75Ib0b3B2RJF4GV4y9ue0=
cache: bundler
rvm:
- 2.4.0
before_script:
- bundle exec rake db:create
- bundle exec rake db:migrate db:test:prepare
script:
- bundle exec rake ci:tests
deploy:
  provider: heroku
  api_key:
    secure: hM/ScHLFkvns9S4dYjsRmuJUprR3acA+Bo7mSAtlQiYLD2uG5Z1i/q4JriAO8pvT9MTTMTIepgCfi4oHIQL6xTwn9egMKDgyxqev3I7hI6WJ4+moUZczhvlDSHlmxXPtcwJHGRapt+sJRKjmc8enUVzP+2iIQ//Vzy3DKlTEWSRl7U+JIFrae+c2kTnX5W8St0cCRtC6TqwJPlvo/LOlr3oYfuBtMRs2KP6At8ezF5WWgVHwZFQk5dTD8MLQ8MNdzVhqh5DJ9FxVvusLG34VIG/nGgRZhd921UK2II3YWhSeddo71c4ukjSBZLWFPYL8U3Y+j5UfioYcUzwaMDiZE0bcLZn+MyGZfvp6LMenjhNRhlH/+NpkiEJQzkv22PeGZRxBieqGIe6mJMYpj0aGBGzzdfW1r5viSs0VWFuU40lqembaG72MOtH4FEzVQn3kzOG2ZAd645M65zfEG1oqCo4qxfocBVfi7cEtiYtdPlIdKrF02JJkw6U46qi7Bb0/XW+TelgyxXpuiQ6aii9ErUyDVd9h+kAlxQ1F2vW81ZTBIk5vyklHDuYobn2j3X5VM2sx+hbuo3wxHNfto7IOzTWKBO3bNqYEqWsutsN+QEbfgg1o0kbvJ6eykGR/OH7An3zOT1UWRIWdS3uxVIU1Z3vQwCzzBKbnYUlz4Yvk0FE=
  app: laundrytime
  on:
    repo: CraftAcademy/laundry_time
    branch: develop
  run: bundle exec rails db:migrate
